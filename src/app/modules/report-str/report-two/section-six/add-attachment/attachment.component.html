<div class="col-lg-12">
    <div class="modal-header">
        <h3 class="modal-title required" id="agency-basic-title">Thông tin về tài liệu đính kèm</h3>
        <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
    </div>
    <div class="card-body border-top p-9">
        <form [formGroup]="attachmentInfo" (ngSubmit)="onAttachmentSubmit()">
            <div class="row" style="padding-bottom: 1.25rem;">
                <div class="col-lg-6 d-flex align-items-center">
                    <label class="col-lg-4 col-form-label fw-bold fs-6">
                        <span class="required">a. Loại tài liệu:</span>
                    </label>
                    <div class="col-lg-8 fv-row">
                        <select class="form-select form-select-sm select-attachment-type" formControlName="attachmentType">
                            <option *ngFor="let doc of attachmentTypes" [value]="doc.value">
                                {{ doc.name }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="col-lg-6 d-flex align-items-center">
                    <label class="col-lg-4 col-form-label fw-bold fs-6"><span class="required">b. Số
                            trang:</span></label>
                    <div class="col-lg-8 fv-row">
                        <input type="number" min="1" class="form-control form-control-lg form-control-solid"
                            placeholder="Số trang" formControlName="pageCount" />
                        <div class="text-danger mt-1 ml-1"
                            *ngIf="attachmentInfo.get('pageCount').touched && attachmentInfo.get('pageCount').invalid">
                            <div *ngIf="attachmentInfo.get('pageCount').errors?.required">
                                Số trang không được để trống
                            </div>
                            <div *ngIf="attachmentInfo.get('pageCount').errors?.min">
                                Số trang phải lớn hơn 0
                            </div>
                            <div *ngIf="attachmentInfo.get('pageCount').errors?.notInteger">
                                Số trang phải là số nguyên
                            </div>
                       </div>
                       
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12 d-flex align-items-center">
                    <label class="col-lg-2 col-form-label fw-bold fs-6 required"><span>c. Tài liệu đính kèm:</span></label>
                    <div class="col-lg-10 fv-row">
                        <input type="file" class="form-control form-control-lg form-control-solid"
                            placeholder="Tài liệu đính kèm" (change)="onFileSelected($event)" 
                            accept=".pdf,.xls,.xlsx,
                                    application/pdf,
                                    application/vnd.ms-excel,
                                    application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>
                            <i class="info">* File dung lượng tối đa {{maxFileSize}}MB, loại file: .pdf, .xls, .xlsx</i>
                        <div class="text-danger mt-1 ml-1"
                            *ngIf="attachmentInfo.get('fileName').invalid && attachmentInfo.get('file').touched">
                            Tài liệu đính kèm không được để trống
                          </div>
                    </div>
                </div>
            </div>

            <div class="row py-3">
                <div class="col-lg-12 d-flex align-items-center">
                    <label class="col-lg-2 col-form-label fw-bold fs-6 required"><span>d. Mô tả tài liệu:</span></label>
                    <div class="col-lg-10 fv-row">
                        <textarea type="text" class="form-control form-control-lg form-control-solid"
                            placeholder="Mô tả tài liệu" formControlName="description"></textarea>
                        <i class="info">* Nếu tài liệu đính kèm là "Sao kê" thì cần nhập mô tả thời gian từ ngày...đến ngày</i>
                        <div class="text-danger mt-1 ml-1"
                            *ngIf="attachmentInfo.get('description').invalid && attachmentInfo.get('description').touched">
                            Mô tả tài liệu không được để trống
                          </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer flex-center mt-5">
                <button type="button" id="two-1-cancel" class="btn btn-light me-3" (click)="onReset()">
                    Hủy bỏ
                </button>
                <button type="submit" id="two-1-submit" class="btn btn-primary">
                    <span class="indicator-label">Lưu</span>
                </button>
            </div>
        </form>
    </div>
</div>